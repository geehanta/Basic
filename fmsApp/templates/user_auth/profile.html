{% extends 'base.html' %}
{% load static %}
{% block pageContent %}
<style>
    .profile-img {
        width: 130px;
        height: 130px;
        object-fit: cover;
        border-radius: 50%;
        border: 4px solid #ddd;
        margin-bottom: 15px;
    }

    .profile-img:hover {
        opacity: 0.9;
    }

    .profile-header {
        text-align: center;
        background-color: teal;
        color: white;
        padding: 15px;
        border-bottom: 5px solid #AF8F6F;
    }

    .card-body dl dt {
        font-weight: 600;
    }
</style>

<div class="container">
    <div class="row justify-content-center mt-3">
        <div class="col-lg-7 col-md-9 col-sm-12">
            <div class="card shadow rounded-0">

                <!-- Card Header -->
                <div class="profile-header">
                    <h4 class="card-title mb-0"><b>My Profile</b></h4>
                </div>

                <!-- Card Body -->
                <div class="card-body text-center">
                    <!-- Profile Image -->
                    {% if user.profile.profile_image %}
                        <img src="{{ user.profile.profile_image.url }}" alt="Profile Picture" class="profile-img">
                    {% else %}
                        <img src="{{ MEDIA_URL }}profile_pics/default.png" alt="Default Picture" class="profile-img">
                    {% endif %}

                    <h5 class="mt-2 mb-0">{{ user.first_name }} {{ user.last_name }}</h5>
                    <small class="text-muted">@{{ user.username }}</small>

                    <hr class="my-3">

                    <div class="text-start px-3">
                        <dl class="mb-0">
                            <dt class="text-muted">Full Name</dt>
                            <dd class="ps-4">{{ user.first_name }} {{ user.last_name }}</dd>

                            <dt class="text-muted">Email</dt>
                            <dd class="ps-4">{{ user.email }}</dd>

                            <dt class="text-muted">Username</dt>
                            <dd class="ps-4">{{ user.username }}</dd>
                        </dl>
                    </div>
                </div>

                <!-- Card Footer -->
                <div class="card-footer text-end">
                    <a href="{% url 'update-password' %}" class="btn btn-light border btn-sm bg-gradient rounded-0 me-2">
                        Change Password
                    </a>
                    <a href="{% url 'update-profile' %}" class="btn btn-primary btn-sm bg-gradient rounded-0">
                        Edit Profile
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock pageContent %}
